function initMap(){map=new google.maps.Map(document.getElementById("map"),{center:{lat:30.3071816,lng:-97.7559964},zoom:13,styles:style,mapTypeControl:!1});for(var e=[{title:"North Loop",location:{lat:30.318867,lng:-97.718588}},{title:"Central Austin",location:{lat:30.296171,lng:-97.738954}},{title:"Downtown Austin",location:{lat:30.272921,lng:-97.744386}},{title:"East Austin",location:{lat:30.274415,lng:-97.715923}},{title:"South Lamar",location:{lat:30.236265,lng:-97.782422}}],t=new google.maps.InfoWindow,o=makeMarkerIcon("0091ff"),n=makeMarkerIcon("ffff24"),i=0;i<e.length;i++){var a=e[i].location,s=e[i].title,l=new google.maps.Marker({position:a,title:s,icon:o,animation:google.maps.Animation.DROP,id:i});markers.push(l),l.addListener("click",function(){populateInfoWindow(this,t)}),l.addListener("mouseover",function(){this.setIcon(n)}),l.addListener("mouseout",function(){this.setIcon(o)})}document.getElementById("show-listings").addEventListener("click",showListings),document.getElementById("hide-listings").addEventListener("click",hideListings)}function populateInfoWindow(e,t){function o(o,n){if(n==google.maps.StreetViewStatus.OK){var i=o.location.latLng,a=google.maps.geometry.spherical.computeHeading(i,e.position);t.setContent("<div>"+e.title+'</div><div id="pano"></div>');var s={position:i,pov:{heading:a,pitch:30}};new google.maps.StreetViewPanorama(document.getElementById("pano"),s)}else t.setContent("<div>"+e.title+"</div><div>No Street View Found</div>")}if(t.marker!=e){t.setContent(""),t.marker=e,t.addListener("closeclick",function(){t.marker=null});(new google.maps.StreetViewService).getPanoramaByLocation(e.position,50,o),t.open(map,e)}}function showListings(){for(var e=new google.maps.LatLngBounds,t=0;t<markers.length;t++)markers[t].setMap(map),e.extend(markers[t].position);map.fitBounds(e)}function hideListings(){for(var e=0;markers.length;e++)markers[e].setMap(null)}function makeMarkerIcon(e){return new google.maps.MarkerImage("http://chart.googleapis.com/chart?chst=d_map_spin&chld=1.15|0|"+e+"|40|_|%E2%80%A2",new google.maps.Size(21,34),new google.maps.Point(0,0),new google.maps.Point(10,34),new google.maps.Size(21,34))}var map,markers=[],style=[{featureType:"water",stylers:[{color:"#19a0d8"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"},{weight:6}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#e85113"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efe9e4"},{lightness:-40}]},{featureType:"transit.station",stylers:[{weight:9},{hue:"#e85113"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{lightness:100}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{lightness:-100}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"on"},{color:"#f0e4d3"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#efe9e4"},{lightness:-25}]}];